# 前言

在某个网站做过前端后，留下一点思考备忘。  
我想列下这些要点，只有网站足够大，去做它才有效益。

## 服务器端渲染

大型网站必然是服务器端渲染的。客户端渲染的时间消耗伤不起。
由于前后端分离后的服务器端渲染不够成熟，导致这个技术栈要么复杂，要么小众，一般网站做这个是得不偿失的。除非极度需要SEO。

## 首屏CSS内嵌

由于网络延迟和TCP滑动窗口的原因，浏览器发起请求到获取HTML并解析和渲染的时间是比较长的。  
如果在HTML加载完，首屏所需的CSS就已经获得，不用再次发起请求得到CSS文件，这对用户体验的提升是很大的。  
但是这会把页面整体变成2个部分，这种拆分带来了技术复杂度，一般网站就选择技术简单的方式了。

## 图片优化

WebP体积大小优势明显。目前仅被Chrome支持。
幸好Chrome的市占率足够高了，对于大型网站来说，带宽成本的收益可以超越这点技术复杂性。

## 发布系统

大型网站都有发布系统。因为网站频繁发布，而手工发布的流程是比较繁琐的，所以做一个发布系统是有必要的。  
一般网站的发布不会那么频繁，它的环境也相对简单，自动化脚本加上手工操作就可以完成发布了。

## 自定义页面行为收集

大型网站为了数据保密，一般都会选择自定义的收集数据。  
小网站则是能利用第三方的服务就用第三方服务。

## To be continued
